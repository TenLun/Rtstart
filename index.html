<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rtstart - RT起始页</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="favicon.png">
    <script>
      var time_jx = true;
    </script>
</head>
<body id="app">
    <p id="gpt"></p>
    <h1 id="tm" class="time" onclick="time_jx = !time_jx"></h1>
    <script>
      // 获取具有指定id的h1元素
      var tmElement = document.getElementById("tm");

      // 定义更新时间的函数
      function updateTime() {
        if (time_jx) {
          var currentTime = new Date().toLocaleTimeString([], {
            hour: "numeric",
            minute: "2-digit",
            second: "2-digit"
          });
        } else {
          var currentTime = new Date().toLocaleTimeString([], {
            hour: "numeric",
            minute: "2-digit"
          });
        }
        // 将格式化后的时间显示在h1元素中
        tmElement.textContent = currentTime;
      }

      setInterval(updateTime, 100);
    </script>
    <form action="https://baidu.com/s" target="_blank" class="search-wrapper" id="sousf">
      <label for="input"></label>
      <input type="text" class="search-container" name="wd" id="input" placeholder="搜索">
    </form>
    <form id="myForm" action="#" method="POST">
      <select id="selectBox" onchange="updateFormAction()">
        <option value="baidu">百度</option>
        <option value="bing">必应</option>
        <option value="sogou">搜狗</option>
        <option value="google">谷歌</option>
        <option value="a360">360</option>
        <option value="ddg">DuckDuckGo</option>
        <option value="blog">Blog</option>
      </select>
    </form>
    <script>
      let engineDict = {
        baidu: ["https://baidu.com/s","wd"],
        bing: ["https://bing.com/search","q"],
        sogou: ["https//sougou.com/web","query"],
        a360: ["https://so.com/s","q"],
        blog: ["https://ovotun.ates.top/","s"],
        google: ["https://google.com/search","q"],
        ddg: ["https://duckduckgo.com","q"]
      }

      function updateFormAction() {
        var selectBox = document.getElementById("selectBox");
        var fform = document.getElementById("sousf");
        //var ssname = document.getElementById("ss"); DOM not found

        var se = selectBox.value;

        // 判断单选框是否被选中
        if (se != "") {
          // 修改form的action属性
          fform.action = engineDict[se][1];
        }
      }
    </script>
    <p id="quote"></p>
    <div class="link">
      <a href="https://ovotun.ates.top/?page_id=118" style="color: #333; text-decoration: none;">Rtstart v5</a> | <a href="https://www.github.com/program-zoubg" style="color: #333; text-decoration: none;">GitHub</a>
    </div>
    <script>
      fetch('https://v1.hitokoto.cn/?encode=text')
      .then(function(response) {
        return response.text();
      })
      .then(function(data) {
        // 将结果插入到 id 为 "quote" 的 p 标签中
        document.getElementById("quote").textContent = data;
      })
      .catch(function(error) {
        console.log(error);
      });
    </script>
    <script src="connection.js"></script>
  </body>
</html>
